[{"/home/adriano/Documentos/pos/pwII/projeto/servico/src/index.js":"1","/home/adriano/Documentos/pos/pwII/projeto/servico/src/App.js":"2","/home/adriano/Documentos/pos/pwII/projeto/servico/src/reportWebVitals.js":"3","/home/adriano/Documentos/pos/pwII/projeto/servico/src/login/login.js":"4","/home/adriano/Documentos/pos/pwII/projeto/servico/src/home/home.js":"5","/home/adriano/Documentos/pos/pwII/projeto/servico/src/routes.js":"6","/home/adriano/Documentos/pos/pwII/projeto/servico/src/auth.js":"7","/home/adriano/Documentos/pos/pwII/projeto/servico/src/topo.js":"8","/home/adriano/Documentos/pos/pwII/projeto/servico/src/pessoa/lista-servico-prestador.js":"9","/home/adriano/Documentos/pos/pwII/projeto/servico/src/pessoa/create-pessoa.js":"10","/home/adriano/Documentos/pos/pwII/projeto/servico/src/pessoa/orcamentos.js":"11","/home/adriano/Documentos/pos/pwII/projeto/servico/src/pessoa/prestador-orcamentos.js":"12"},{"size":544,"mtime":1608592850340,"results":"13","hashOfConfig":"14"},{"size":505,"mtime":1608681234117,"results":"15","hashOfConfig":"14"},{"size":362,"mtime":1608588593129,"results":"16","hashOfConfig":"14"},{"size":3619,"mtime":1610755365261,"results":"17","hashOfConfig":"14"},{"size":1877,"mtime":1609700036714,"results":"18","hashOfConfig":"14"},{"size":1348,"mtime":1610832407919,"results":"19","hashOfConfig":"14"},{"size":1173,"mtime":1610818490927,"results":"20","hashOfConfig":"14"},{"size":1012,"mtime":1609604599197,"results":"21","hashOfConfig":"14"},{"size":13271,"mtime":1610832462529,"results":"22","hashOfConfig":"14"},{"size":5660,"mtime":1610807433515,"results":"23","hashOfConfig":"14"},{"size":19387,"mtime":1610833649727,"results":"24","hashOfConfig":"14"},{"size":8028,"mtime":1610833389450,"results":"25","hashOfConfig":"14"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},"1ldjs5u",{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"35","usedDeprecatedRules":"28"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},"/home/adriano/Documentos/pos/pwII/projeto/servico/src/index.js",[],["53","54"],"/home/adriano/Documentos/pos/pwII/projeto/servico/src/App.js",[],"/home/adriano/Documentos/pos/pwII/projeto/servico/src/reportWebVitals.js",[],"/home/adriano/Documentos/pos/pwII/projeto/servico/src/login/login.js",["55"],"import { InputText } from 'primereact/inputtext';\nimport {Password} from 'primereact/password';\nimport { Button } from 'primereact/button';\nimport React  from 'react';\nimport axios from 'axios';\nimport {isLogado} from '../auth';\nimport { URL_BACK, URL_MOCK, BACKEND} from \"../auth\";\nimport { Link } from 'react-router-dom';\n\nexport default class Login extends React.Component{\n    constructor(props, context) {\n        if(isLogado()){\n            window.location.href=\"/home\";\n        }\n        super();\n        this.state = {login: '', senha: ''};\n\n        this.handleChange = this.handleChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n\n    }\n\n    handleChange(event) {\n        const target = event.target;\n        const value = target.type === 'checkbox' ? target.checked : target.value;\n        const name = target.name;\n\n        this.setState({\n            [name]: value\n        });\n    }\n\n    handleSubmit(event) {\n        event.preventDefault();\n        const dados = {\n            login: this.state.login,\n            senha: this.state.senha\n        };\n\n        if(BACKEND){\n            axios.post(`${URL_BACK}/login`, dados)\n                .then(res => this.validaAcesso(res))\n                .catch(error => {\n                    console.log(error.response);\n                    if(error.response.status=401){\n                        this.mostraErro(\"Usuário ou senha inválida\");    \n                    }\n                    else{\n                        this.mostraErro(\"Erro ao acessar serviço remoto\");\n                    }\n                });\n        }\n        else{\n            // axios.post(`${URL_MOCK}f7f428cf-7051-4d7a-a5f8-96db7f3e421c`, dados) //mockio cliente\n            //     .then(res => this.validaAcesso(res))\n            //     .catch(error => {\n            //         console.log(error);\n            //         this.mostraErro(\"Erro ao acessar serviço remoto\");\n            //     });\n            axios.post(`${URL_MOCK}74ba9f9a-b46f-4ced-83ec-421e098e5cb9`, dados) //mockio prestador\n                .then(res => this.validaAcesso(res))\n                .catch(error => {\n                    console.log(error);\n                    this.mostraErro(\"Erro ao acessar serviço remoto\");\n                });\n        }\n    }\n\n    mostraErro(msg){\n       alert(msg);\n    }\n\n    validaAcesso(res){\n        let obj = res.data;\n\n        if(obj.erro){\n            alert(obj.msg);\n        }\n        else{\n            localStorage.setItem('usuario', JSON.stringify(obj));\n\n            window.location.href=\"/home\";\n        }\n    }\n\n    render() {\n        return (\n            <div className=\"divLogin\">\n            <form onSubmit={this.handleSubmit} method=\"POST\">\n              <div className=\"p-fluid divLoginChild\">\n                  <div className=\"p-field\">\n                      <label htmlFor=\"login\">Login</label>\n                      <InputText id=\"login\" name=\"login\" value={this.state.login} type=\"text\" onChange={this.handleChange}/>\n                  </div>\n                  <div className=\"p-field\">\n                      <label htmlFor=\"senha\">Senha</label>\n                      <Password id=\"senha\" name=\"senha\" value={this.state.senha} feedback={false} onChange={this.handleChange} /> \n                  </div>\n    \n                  <Button label=\"Logar\" type=\"submit\" className=\"p-button-raised p-button-secondary p-button-rounded\" />\n\n                  <Link to=\"/create-pessoa\"><Button label=\"Criar Cadastro\" className=\"p-button-link p-button-secondary\" /></Link>\n              </div>\n            </form>\n          </div>\n        );\n      }\n}","/home/adriano/Documentos/pos/pwII/projeto/servico/src/home/home.js",[],"/home/adriano/Documentos/pos/pwII/projeto/servico/src/routes.js",[],"/home/adriano/Documentos/pos/pwII/projeto/servico/src/auth.js",[],"/home/adriano/Documentos/pos/pwII/projeto/servico/src/topo.js",[],"/home/adriano/Documentos/pos/pwII/projeto/servico/src/pessoa/lista-servico-prestador.js",[],"/home/adriano/Documentos/pos/pwII/projeto/servico/src/pessoa/create-pessoa.js",[],["56","57"],"/home/adriano/Documentos/pos/pwII/projeto/servico/src/pessoa/orcamentos.js",[],"/home/adriano/Documentos/pos/pwII/projeto/servico/src/pessoa/prestador-orcamentos.js",[],{"ruleId":"58","replacedBy":"59"},{"ruleId":"60","replacedBy":"61"},{"ruleId":"62","severity":1,"message":"63","line":45,"column":24,"nodeType":"64","messageId":"65","endLine":45,"endColumn":49},{"ruleId":"58","replacedBy":"66"},{"ruleId":"60","replacedBy":"67"},"no-native-reassign",["68"],"no-negated-in-lhs",["69"],"no-cond-assign","Expected a conditional expression and instead saw an assignment.","AssignmentExpression","missing",["68"],["69"],"no-global-assign","no-unsafe-negation"]